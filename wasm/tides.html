<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Harmonic analysis</title>
    <link rel="stylesheet" href="tides.css" />
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="./harmonics.js"></script>

    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    };
    </script>
    <script id="MathJax-script" defer
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

  </head>
  <body>
    <div class="centeredcontent">
      <nav id="navMenu">
          <a href="../../index.html" class="menu-item" action="home">Home page</a>
      </nav>
      <h2> Tide Least Square Harmonics Estimation </h2>
    </div>

    <div class="centeredcontent" id="selection">
      <input id="inselec" type="file" />
    </div>

    <div class="control_options">
      <div class="control">
        datetime format string
        <input id="format"
               class="format"
               type="text"
               value=""
               list="format_list"
               placeholder="example %d/%m/%Y %H:%M:%S"
        />
        <datalist id="format_list">
          <option value="%d/%m/%Y %H:%M:%S"></option>
          <option value="%Y-%m-%dT%H:%M:%SZ"></option>
        </datalist>
      </div>

      <div class="control">
        columns
        <label for="col_t">t</label>
        <input id="col_t" class="range" type="number" value="0" min="0" />
        <label for="col_h">h</label>
        <input id="col_h" class="range" type="number" value="1" min="0" />
      </div>

      <div class="control">
        separator
        <input id="separator" class="separator" type="text" value=";" minlength="1" maxlength="1"/>
      </div>

      <div class="control">
        <button id="reload">Reload</button>
      </div>
    </div>

    <div id="graph"></div>

    <div class="centeredcontent">
      <button id="compBtn">Recompute</button>
    </div>


    <div class="controlptions">
      <div class="control">
        Analysis range
        <label for="t_max">\(t_{min}\)</label>
        <input id="t_min" class="range" type="text" value="none" />
        <label for="t_max">\(t_{max}\)</label>
        <input id="t_max" class="range" type="text" value="2000" />
      </div>
    </div>

    <div  class="content" id="mean_data">
      \( \overline{h_{data}} = --- \)
    </div>

    <div  class="content" id="ref_date">
       dataset reference datetime : ---
    </div>


    \begin{equation*}
      \LARGE{
        h(t) = H_0 + \sum_{i \in I}{H_i f_i \cos(a_i t + \theta)}
      }
    \end{equation*}


    <div class="centeredcontent">
      <button id="textFile">Table Text Export</button>
    </div>

    <table>
      <caption>
        Tidal component values
      </caption>
      <thead>
        <tr>
          <th scope="col"> Name </th>
          <th scope="col"> a (rad/h) </th>
          <th scope="col"> Hf (m) </th>
          <th scope="col"> Î¸ (rad)</th>
          <th scope="col"> use </th>
        </tr>
      </thead>
      <tbody id="components">
      </tbody>
    </table>

    <script type="module" defer src="./main.js"></script>
  </body>
</html>
